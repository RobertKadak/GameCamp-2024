[gd_scene load_steps=12 format=3 uid="uid://cpn7jijdmky8e"]

[ext_resource type="Script" path="res://scenes/levels/level_1.gd" id="1_1j3sy"]
[ext_resource type="PackedScene" uid="uid://df3muplc0mal8" path="res://scenes/levels/hud.tscn" id="1_lglxl"]
[ext_resource type="PackedScene" uid="uid://cjnjct76im3qy" path="res://characters/player/player.tscn" id="1_nkpfc"]
[ext_resource type="PackedScene" uid="uid://4tbot0pb2xdg" path="res://scenes/enemy.tscn" id="2_7dsv0"]
[ext_resource type="PackedScene" path="res://scenes/levels/stop_watch.tscn" id="3_hvndn"]
[ext_resource type="Texture2D" uid="uid://c00224xebfjt7" path="res://assets/fuckass_room.png" id="3_xcyde"]
[ext_resource type="PackedScene" uid="uid://dcybrwwl41s8p" path="res://scenes/next_level.tscn" id="7_tcj8h"]
[ext_resource type="PackedScene" uid="uid://bf4omdyo45gjm" path="res://characters/boss/boss.tscn" id="8_bvepc"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_d840p"]
vertices = PackedVector2Array(928, 516.75, -934, 516.75, -934, -511.75, 928, -511.75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-961, -539, 957, -542, 959, 542, -960, 536, -960.813, -337.367)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wk18b"]
size = Vector2(21.1639, 2.325)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hh3uy"]

[node name="level1" type="Node2D" node_paths=PackedStringArray("box_region_start", "box_region_end")]
script = ExtResource("1_1j3sy")
box_region_start = NodePath("BoxStart")
box_region_end = NodePath("BoxEnd")

[node name="StopWatch" parent="." groups=["StopWatch"] instance=ExtResource("3_hvndn")]

[node name="HUD" parent="." instance=ExtResource("1_lglxl")]

[node name="Camera2D" type="Camera2D" parent="."]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
position = Vector2(-1, -1)
scale = Vector2(1.00527, 0.993624)
navigation_polygon = SubResource("NavigationPolygon_d840p")

[node name="walls" type="Node2D" parent="NavigationRegion2D"]

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/walls"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/walls/StaticBody2D"]
position = Vector2(-1, 550)
scale = Vector2(90, 20)
shape = SubResource("RectangleShape2D_wk18b")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="NavigationRegion2D/walls/StaticBody2D"]
position = Vector2(-5, -545)
scale = Vector2(90, 20)
shape = SubResource("RectangleShape2D_wk18b")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="NavigationRegion2D/walls/StaticBody2D"]
position = Vector2(-964, 29)
rotation = 1.5708
scale = Vector2(60, 2)
shape = SubResource("RectangleShape2D_hh3uy")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="NavigationRegion2D/walls/StaticBody2D"]
position = Vector2(958, 6)
rotation = 1.5708
scale = Vector2(60, 2)
shape = SubResource("RectangleShape2D_hh3uy")

[node name="Player" parent="." groups=["Player"] instance=ExtResource("1_nkpfc")]
position = Vector2(845, 273)

[node name="enemy" parent="." node_paths=PackedStringArray("target_to_chase") instance=ExtResource("2_7dsv0")]
target_to_chase = NodePath("../Player")

[node name="Sprite2D" type="Sprite2D" parent="."]
show_behind_parent = true
texture = ExtResource("3_xcyde")

[node name="nextLevel" parent="." instance=ExtResource("7_tcj8h")]
position = Vector2(895, -33)

[node name="MobSpawn" type="Timer" parent="."]
wait_time = 4.0
autostart = true

[node name="BoxStart" type="Node2D" parent="."]
position = Vector2(-672, -280)

[node name="BoxEnd" type="Node2D" parent="."]
position = Vector2(688, 352)

[node name="Diff" type="Timer" parent="."]
autostart = true

[node name="Boss" parent="." node_paths=PackedStringArray("target", "target2", "source") instance=ExtResource("8_bvepc")]
position = Vector2(428, 14)
scale = Vector2(0.36, 0.36)
target = NodePath("../Node2D3")
target2 = NodePath("../Node2D2")
source = NodePath("../Node2D")
health = 200

[node name="Node2D3" type="Node2D" parent="."]
position = Vector2(-950, -530)

[node name="Node2D2" type="Node2D" parent="."]
position = Vector2(-944, 528)

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(745, -168)

[connection signal="body_entered" from="nextLevel" to="." method="_on_next_level_body_entered"]
[connection signal="timeout" from="MobSpawn" to="." method="_on_mob_spawn_timeout"]
[connection signal="timeout" from="Diff" to="." method="_on_diff_timeout"]
